<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>üìÖ {{.Title}}</h1>
  <div class="btn-group">
    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addGroupModal">‚ûï –ì—Ä—É–ø–ø–æ–≤–∞—è</button>
    <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#addPersonalModal">‚ûï –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è</button>
  </div>
</div>

<!-- –ì—Ä—É–ø–ø–æ–≤—ã–µ -->
<div class="card mb-4">
  <div class="card-header"><h5 class="mb-0">–ì—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h5></div>
  <div class="card-body">
    {{if .Groups}}
    <div class="table-responsive">
      <table class="table table-striped table-hover align-middle">
        <thead class="table-dark">
          <tr><th>ID</th><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th><th>–¢—Ä–µ–Ω–µ—Ä</th><th>–ó–æ–Ω–∞</th><th>–ù–∞—á–∞–ª–æ</th><th>–û–∫–æ–Ω—á–∞–Ω–∏–µ</th><th>–£—Ä–æ–≤–µ–Ω—å</th><th>–ú–∞–∫—Å</th><th>–î–µ–π—Å—Ç–≤–∏—è</th></tr>
        </thead>
        <tbody>
          {{range .Groups}}
          <tr>
            <td>{{.ID}}</td>
            <td>{{.Title}}</td>
            <td>{{.TrainerName}}</td>
            <td>{{.ZoneName}}</td>
            <td>{{.Start.Format "02.01.2006 15:04"}}</td>
            <td>{{.End.Format "02.01.2006 15:04"}}</td>
            <td>{{.Level}}</td>
            <td>{{.Max}}</td>
            <td class="text-nowrap">
              <button class="btn btn-sm btn-outline-success enroll-btn" data-id="{{.ID}}" data-title="{{.Title}}">üìù –ó–∞–ø–∏—Å–∞—Ç—å</button>
              <button class="btn btn-sm btn-outline-primary edit-group-btn" data-id="{{.ID}}">‚úèÔ∏è</button>
              <button class="btn btn-sm btn-outline-danger delete-group-btn" data-id="{{.ID}}">üóëÔ∏è</button>
            </td>
          </tr>
          {{end}}
        </tbody>
      </table>
    </div>
    {{else}}
      <div class="alert alert-info mb-0">–ì—Ä—É–ø–ø–æ–≤—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –Ω–µ—Ç.</div>
    {{end}}
  </div>
</div>

<!-- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ -->
<div class="card mb-4">
  <div class="card-header"><h5 class="mb-0">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h5></div>
  <div class="card-body">
    {{if .Personal}}
    <div class="table-responsive">
      <table class="table table-striped table-hover align-middle">
        <thead class="table-dark">
          <tr><th>ID</th><th>–ö–ª–∏–µ–Ω—Ç</th><th>–¢—Ä–µ–Ω–µ—Ä</th><th>–ù–∞—á–∞–ª–æ</th><th>–û–∫–æ–Ω—á–∞–Ω–∏–µ</th><th>–°—Ç–∞—Ç—É—Å</th><th>–°—Ç–æ–∏–º–æ—Å—Ç—å</th><th>–î–µ–π—Å—Ç–≤–∏—è</th></tr>
        </thead>
        <tbody>
          {{range .Personal}}
          <tr>
            <td>{{.ID}}</td>
            <td>{{.ClientFIO}} (#{{.SubscriptionID}})</td>
            <td>{{.TrainerFIO}}</td>
            <td>{{.Start.Format "02.01.2006 15:04"}}</td>
            <td>{{.End.Format "02.01.2006 15:04"}}</td>
            <td>
              <span class="badge {{if eq .Status "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞"}}bg-primary{{else if eq .Status "–ó–∞–≤–µ—Ä—à–µ–Ω–∞"}}bg-success{{else}}bg-secondary{{end}}">{{.Status}}</span>
            </td>
            <td>{{printf "%.2f" .Price}}</td>
            <td class="text-nowrap">
              <button class="btn btn-sm btn-outline-primary edit-personal-btn" data-id="{{.ID}}">‚úèÔ∏è</button>
              <button class="btn btn-sm btn-outline-danger delete-personal-btn" data-id="{{.ID}}">üóëÔ∏è</button>
            </td>
          </tr>
          {{end}}
        </tbody>
      </table>
    </div>
    {{else}}
      <div class="alert alert-info mb-0">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –Ω–µ—Ç.</div>
    {{end}}
  </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞: –¥–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø–æ–≤—É—é -->
<div class="modal fade" id="addGroupModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content">
  <div class="modal-header"><h5 class="modal-title">–ù–æ–≤–∞—è –≥—Ä—É–ø–ø–æ–≤–∞—è</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
  <form id="addGroupForm">
    <div class="modal-body">
      <div class="mb-2"><label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ *</label><input class="form-control" name="title" required></div>
      <div class="mb-2"><label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label><textarea class="form-control" name="description" rows="2"></textarea></div>
      <div class="row g-3">
        <div class="col-md-4"><label class="form-label">–ú–∞–∫—Å. —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ *</label><input type="number" class="form-control" name="max" min="1" value="10" required></div>
        <div class="col-md-4"><label class="form-label">–£—Ä–æ–≤–µ–Ω—å</label>
          <select class="form-select" name="level">
            <option value="">‚Äî</option>
            <option value="–ù–∞—á–∞–ª—å–Ω—ã–π">–ù–∞—á–∞–ª—å–Ω—ã–π</option>
            <option value="–°—Ä–µ–¥–Ω–∏–π">–°—Ä–µ–¥–Ω–∏–π</option>
            <option value="–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</option>
          </select>
        </div>
        <div class="col-md-4"><label class="form-label">–î–∞—Ç–∞ *</label><input type="date" class="form-control" name="date" required></div>
      </div>
      <div class="row g-3 mt-1">
        <div class="col-md-3"><label class="form-label">–ù–∞—á–∞–ª–æ *</label><input type="time" class="form-control" name="start_time" required></div>
        <div class="col-md-3"><label class="form-label">–û–∫–æ–Ω—á–∞–Ω–∏–µ *</label><input type="time" class="form-control" name="end_time" required></div>
        <div class="col-md-3"><label class="form-label">–¢—Ä–µ–Ω–µ—Ä *</label><select class="form-select" id="grpTrainer" name="trainer_id" required><option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option></select></div>
        <div class="col-md-3"><label class="form-label">–ó–æ–Ω–∞ *</label><select class="form-select" id="grpZone" name="zone_id" required><option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option></select></div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn btn-primary" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </form>
</div></div></div>

<!-- –ú–æ–¥–∞–ª–∫–∞: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤—É—é -->
<div class="modal fade" id="editGroupModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content">
  <div class="modal-header"><h5 class="modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤—É—é</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
  <form id="editGroupForm">
    <div class="modal-body">
      <input type="hidden" id="editGroupId" name="id">
      <div class="mb-2"><label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ *</label><input class="form-control" id="egTitle" name="title" required></div>
      <div class="mb-2"><label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label><textarea class="form-control" id="egDesc" name="description" rows="2"></textarea></div>
      <div class="row g-3">
        <div class="col-md-4"><label class="form-label">–ú–∞–∫—Å. —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ *</label><input type="number" class="form-control" id="egMax" name="max" min="1" required></div>
        <div class="col-md-4"><label class="form-label">–£—Ä–æ–≤–µ–Ω—å</label>
          <select class="form-select" id="egLevel" name="level">
            <option value="">‚Äî</option><option value="–ù–∞—á–∞–ª—å–Ω—ã–π">–ù–∞—á–∞–ª—å–Ω—ã–π</option><option value="–°—Ä–µ–¥–Ω–∏–π">–°—Ä–µ–¥–Ω–∏–π</option><option value="–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</option>
          </select>
        </div>
        <div class="col-md-4"><label class="form-label">–î–∞—Ç–∞ *</label><input type="date" class="form-control" id="egDate" name="date" required></div>
      </div>
      <div class="row g-3 mt-1">
        <div class="col-md-3"><label class="form-label">–ù–∞—á–∞–ª–æ *</label><input type="time" class="form-control" id="egStart" name="start_time" required></div>
        <div class="col-md-3"><label class="form-label">–û–∫–æ–Ω—á–∞–Ω–∏–µ *</label><input type="time" class="form-control" id="egEnd" name="end_time" required></div>
        <div class="col-md-3"><label class="form-label">–¢—Ä–µ–Ω–µ—Ä *</label><select class="form-select" id="egTrainer" name="trainer_id" required><option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option></select></div>
        <div class="col-md-3"><label class="form-label">–ó–æ–Ω–∞ *</label><select class="form-select" id="egZone" name="zone_id" required><option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option></select></div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn btn-primary" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </form>
</div></div></div>

<!-- –ú–æ–¥–∞–ª–∫–∞: –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é -->
<div class="modal fade" id="addPersonalModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content">
  <div class="modal-header"><h5 class="modal-title">–ù–æ–≤–∞—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
  <form id="addPersonalForm">
    <div class="modal-body">
      <div class="row g-3">
        <div class="col-md-4"><label class="form-label">–ê–±–æ–Ω–µ–º–µ–Ω—Ç *</label><select class="form-select" id="perSub" name="subscription_id" required><option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option></select></div>
        <div class="col-md-4"><label class="form-label">–¢—Ä–µ–Ω–µ—Ä *</label><select class="form-select" id="perTrainer" name="trainer_id" required><option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option></select></div>
        <div class="col-md-4"><label class="form-label">–î–∞—Ç–∞ *</label><input type="date" class="form-control" name="date" required></div>
      </div>
      <div class="row g-3 mt-1">
        <div class="col-md-3"><label class="form-label">–ù–∞—á–∞–ª–æ *</label><input type="time" class="form-control" name="start_time" required></div>
        <div class="col-md-3"><label class="form-label">–û–∫–æ–Ω—á–∞–Ω–∏–µ *</label><input type="time" class="form-control" name="end_time" required></div>
        <div class="col-md-3"><label class="form-label">–°—Ç–∞—Ç—É—Å</label>
          <select class="form-select" name="status">
            <option value="–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞" selected>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞</option>
            <option value="–ó–∞–≤–µ—Ä—à–µ–Ω–∞">–ó–∞–≤–µ—Ä—à–µ–Ω–∞</option>
            <option value="–û—Ç–º–µ–Ω–µ–Ω–∞">–û—Ç–º–µ–Ω–µ–Ω–∞</option>
          </select>
        </div>
        <div class="col-md-3"><label class="form-label">–°—Ç–æ–∏–º–æ—Å—Ç—å</label><input type="number" step="0.01" min="0" class="form-control" name="price"></div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn btn-primary" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </form>
</div></div></div>

<!-- –ú–æ–¥–∞–ª–∫–∞: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é -->
<div class="modal fade" id="editPersonalModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content">
  <div class="modal-header"><h5 class="modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
  <form id="editPersonalForm">
    <div class="modal-body">
      <input type="hidden" id="epId" name="id">
      <div class="row g-3">
        <div class="col-md-4"><label class="form-label">–ê–±–æ–Ω–µ–º–µ–Ω—Ç *</label><select class="form-select" id="epSub" name="subscription_id" required></select></div>
        <div class="col-md-4"><label class="form-label">–¢—Ä–µ–Ω–µ—Ä *</label><select class="form-select" id="epTrainer" name="trainer_id" required></select></div>
        <div class="col-md-4"><label class="form-label">–î–∞—Ç–∞ *</label><input type="date" class="form-control" id="epDate" name="date" required></div>
      </div>
      <div class="row g-3 mt-1">
        <div class="col-md-3"><label class="form-label">–ù–∞—á–∞–ª–æ *</label><input type="time" class="form-control" id="epStart" name="start_time" required></div>
        <div class="col-md-3"><label class="form-label">–û–∫–æ–Ω—á–∞–Ω–∏–µ *</label><input type="time" class="form-control" id="epEnd" name="end_time" required></div>
        <div class="col-md-3"><label class="form-label">–°—Ç–∞—Ç—É—Å</label>
          <select class="form-select" id="epStatus" name="status">
            <option value="–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞</option>
            <option value="–ó–∞–≤–µ—Ä—à–µ–Ω–∞">–ó–∞–≤–µ—Ä—à–µ–Ω–∞</option>
            <option value="–û—Ç–º–µ–Ω–µ–Ω–∞">–û—Ç–º–µ–Ω–µ–Ω–∞</option>
          </select>
        </div>
        <div class="col-md-3"><label class="form-label">–°—Ç–æ–∏–º–æ—Å—Ç—å</label><input type="number" step="0.01" min="0" class="form-control" id="epPrice" name="price"></div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn btn-primary" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </form>
</div></div></div>

<!-- –ú–æ–¥–∞–ª–∫–∞: –∑–∞–ø–∏—Å—å –Ω–∞ –≥—Ä—É–ø–ø–æ–≤—É—é -->
<div class="modal fade" id="enrollModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content">
  <div class="modal-header"><h5 class="modal-title">–ó–∞–ø–∏—Å—å –Ω–∞ –≥—Ä—É–ø–ø–æ–≤—É—é</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
  <form id="enrollForm">
    <div class="modal-body">
      <input type="hidden" id="enGroupId" name="group_id">
      <div class="mb-2"><label class="form-label">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</label><input class="form-control" id="enGroupTitle" disabled></div>
      <div class="mb-3"><label class="form-label">–ê–±–æ–Ω–µ–º–µ–Ω—Ç *</label><select class="form-select" id="enSub" name="subscription_id" required><option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option></select></div>
      <div class="mb-1"><label class="form-label">–°—Ç–∞—Ç—É—Å</label>
        <select class="form-select" name="status">
          <option value="–ó–∞–ø–∏—Å–∞–Ω" selected>–ó–∞–ø–∏—Å–∞–Ω</option>
          <option value="–ü–æ—Å–µ—Ç–∏–ª">–ü–æ—Å–µ—Ç–∏–ª</option>
          <option value="–û—Ç–º–µ–Ω–∏–ª">–û—Ç–º–µ–Ω–∏–ª</option>
        </select>
      </div>
      <div class="form-text">–¢–∞–±–ª–∏—Ü–∞: ¬´–ó–∞–ø–∏—Å—å_–Ω–∞_–≥—Ä—É–ø–ø–æ–≤—É—é_—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É¬ª (id_–≥—Ä—É–ø–ø–æ–≤–æ–π_—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ + id_–∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞).</div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn btn-primary" type="submit">–°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å</button>
    </div>
  </form>
</div></div></div>
