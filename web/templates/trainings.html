<!-- views/trainings.html -->

<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>üìÖ {{.Title}}</h1>
  <div class="btn-group">
    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addGroupModal">‚ûï –ì—Ä—É–ø–ø–æ–≤–∞—è</button>
    <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#addPersonalModal">‚ûï
      –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è</button>
  </div>
</div>

<!-- –ü–æ–∏—Å–∫ -->
<form id="trSearchForm" class="input-group mb-3" method="get" action="/trainings">
  <input type="search" class="form-control" name="q"
    placeholder="–ü–æ–∏—Å–∫: –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç—Ä–µ–Ω–µ—Ä/–∑–æ–Ω–∞ (–≥—Ä—É–ø–ø.), –∫–ª–∏–µ–Ω—Ç/—Ç—Ä–µ–Ω–µ—Ä (–ø–µ—Ä—Å–æ–Ω.)" value="{{index .Filter " q"}}">

  <!-- —Å–∫—Ä—ã—Ç—ã–µ –ø–æ–ª—è, —á—Ç–æ–±—ã –ø–æ–∏—Å–∫ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–ª –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã -->
  <input type="hidden" name="trainer_id" value="{{index .Filter "trainer_id"}}">
  <input type="hidden" name="zone_id" value="{{index .Filter "zone_id"}}">
  <input type="hidden" name="level" value="{{index .Filter "level"}}">
  <input type="hidden" name="status" value="{{index .Filter "status"}}">
  <input type="hidden" name="from" value="{{index .Filter "from"}}">
  <input type="hidden" name="to" value="{{index .Filter "to"}}">
  <input type="hidden" name="upcoming" value="{{if index .Filter " upcoming"}}1{{end}}">
  <input type="hidden" name="recent" value="{{if index .Filter " recent"}}1{{end}}">

  <button class="btn btn-outline-primary" type="submit">–ù–∞–π—Ç–∏</button>
  {{if index .Filter "q"}}<a class="btn btn-outline-secondary" href="/trainings">–°–±—Ä–æ—Å</a>{{end}}
</form>

<!-- –§–∏–ª—å—Ç—Ä—ã -->
<form id="trFiltersForm" class="card mb-4" method="get" action="/trainings">
  <div class="card-header">
    <h5 class="card-title mb-0">üîç –§–∏–ª—å—Ç—Ä—ã</h5>
  </div>
  <div class="card-body">
    <div class="row g-3 align-items-end">
      <div class="col-md-2">
        <label class="form-label">ID —Ç—Ä–µ–Ω–µ—Ä–∞</label>
        <input class="form-control" id="fTrainer" name="trainer_id" value="{{index .Filter " trainer_id"}}"
          placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 3">
      </div>
      <div class="col-md-2">
        <label class="form-label">ID –∑–æ–Ω—ã (–≥—Ä—É–ø–ø.)</label>
        <input class="form-control" id="fZone" name="zone_id" value="{{index .Filter " zone_id"}}"
          placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 2">
      </div>
      <div class="col-md-2">
        <label class="form-label">–£—Ä–æ–≤–µ–Ω—å (–≥—Ä—É–ø–ø.)</label>
        <select class="form-select" id="fLevel" name="level">
          {{ $lvl := index .Filter "level" }}
          <option value="">‚Äî</option>
          <option value="–ù–∞—á–∞–ª—å–Ω—ã–π" {{if eq $lvl "–ù–∞—á–∞–ª—å–Ω—ã–π" }}selected{{end}}>–ù–∞—á–∞–ª—å–Ω—ã–π</option>
          <option value="–°—Ä–µ–¥–Ω–∏–π" {{if eq $lvl "–°—Ä–µ–¥–Ω–∏–π" }}selected{{end}}>–°—Ä–µ–¥–Ω–∏–π</option>
          <option value="–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π" {{if eq $lvl "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π" }}selected{{end}}>–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</option>
        </select>
      </div>
      <div class="col-md-2">
        <label class="form-label">–°—Ç–∞—Ç—É—Å (–ø–µ—Ä—Å–æ–Ω.)</label>
        <select class="form-select" id="fStatus" name="status">
          {{ $st := index .Filter "status" }}
          <option value="">‚Äî</option>
          <option value="–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞" {{if eq $st "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞" }}selected{{end}}>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞</option>
          <option value="–ó–∞–≤–µ—Ä—à–µ–Ω–∞" {{if eq $st "–ó–∞–≤–µ—Ä—à–µ–Ω–∞" }}selected{{end}}>–ó–∞–≤–µ—Ä—à–µ–Ω–∞</option>
          <option value="–û—Ç–º–µ–Ω–µ–Ω–∞" {{if eq $st "–û—Ç–º–µ–Ω–µ–Ω–∞" }}selected{{end}}>–û—Ç–º–µ–Ω–µ–Ω–∞</option>
        </select>
      </div>
      <div class="col-md-2">
        <label class="form-label">–°</label>
        <input type="datetime-local" class="form-control" id="fFrom" name="from" value="{{index .Filter " from"}}">
      </div>
      <div class="col-md-2">
        <label class="form-label">–ü–æ</label>
        <input type="datetime-local" class="form-control" id="fTo" name="to" value="{{index .Filter " to"}}">
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-6">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="fUpcoming" name="upcoming" value="1" {{if index
            .Filter "upcoming" }}checked{{end}}>
          <label class="form-check-label" for="fUpcoming">‚è≠ –¢–æ–ª—å–∫–æ –±—É–¥—É—â–∏–µ</label>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="fRecent" name="recent" value="1" {{if index
            .Filter "recent" }}checked{{end}}>
          <label class="form-check-label" for="fRecent">üÜï –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π</label>
        </div>
      </div>
    </div>

    <div class="mt-3 d-flex gap-2">
      <button class="btn btn-outline-primary btn-sm" id="applyTrFiltersBtn" type="submit">
        ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å
      </button>
      <a class="btn btn-outline-secondary btn-sm" href="/trainings">üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å</a>
      <span class="badge bg-info ms-2">
        {{if index .Filter "q"}}–ü–æ–∏—Å–∫: ¬´{{index .Filter "q"}}¬ª; {{end}}
        {{if index .Filter "trainer_id"}}–¢—Ä–µ–Ω–µ—Ä={{index .Filter "trainer_id"}}; {{end}}
        {{if index .Filter "zone_id"}}–ó–æ–Ω–∞={{index .Filter "zone_id"}}; {{end}}
        {{if index .Filter "level"}}–£—Ä–æ–≤–µ–Ω—å={{index .Filter "level"}}; {{end}}
        {{if index .Filter "status"}}–°—Ç–∞—Ç—É—Å={{index .Filter "status"}}; {{end}}
        {{if index .Filter "from"}}–°={{index .Filter "from"}}; {{end}}
        {{if index .Filter "to"}}–ü–æ={{index .Filter "to"}}; {{end}}
        {{if index .Filter "upcoming"}}–¢–æ–ª—å–∫–æ –±—É–¥—É—â–∏–µ; {{end}}
        {{if index .Filter "recent"}}–ó–∞ 30 –¥–Ω–µ–π; {{end}}
      </span>
    </div>
  </div>
</form>

<!-- –ì—Ä—É–ø–ø–æ–≤—ã–µ -->
<div class="card mb-4">
  <div class="card-header">
    <h5 class="mb-0">–ì—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h5>
  </div>
  <div class="card-body">
    {{if .Groups}}
    <div class="table-responsive">
      <table class="table table-striped table-hover align-middle">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
            <th>–¢—Ä–µ–Ω–µ—Ä</th>
            <th>–ó–æ–Ω–∞</th>
            <th>–ù–∞—á–∞–ª–æ</th>
            <th>–û–∫–æ–Ω—á–∞–Ω–∏–µ</th>
            <th>–£—Ä–æ–≤–µ–Ω—å</th>
            <th>–ú–∞–∫—Å</th>
            <th>–°–≤–æ–±–æ–¥–Ω–æ</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
          </tr>
        </thead>
        <tbody>
          {{range .Groups}}
          <tr>
            <td>{{.ID}}</td>
            <td>{{.Title}}</td>
            <td>{{.TrainerName}}</td>
            <td>{{.ZoneName}}</td>
            <td>{{.Start.Format "02.01.2006 15:04"}}</td>
            <td>{{.End.Format "02.01.2006 15:04"}}</td>
            <td>{{.Level}}</td>
            <td>{{.Max}}</td>
            <td>
              {{/* –≤—ã—á–∏—Å–ª—è–µ–º–∞—è –∫–æ–ª–æ–Ω–∫–∞ –∏–∑ –≤—å—é—Ö–∏: FreeSlots */}}
              <span class="badge 
                {{- if le .FreeSlots 0 -}} bg-danger
                {{- else if lt .FreeSlots 3 -}} bg-warning text-dark
                {{- else -}} bg-success
                {{- end -}}">
                {{.FreeSlots}}
              </span>
            </td>
            <td class="text-nowrap">
              <button type="button" class="btn btn-sm btn-outline-secondary list-enroll-btn" data-id="{{.ID}}"
                data-title="{{.Title}}">
                üë• –ó–∞–ø–∏—Å–∞–Ω–Ω—ã–µ
              </button>

              <button class="btn btn-sm btn-outline-success enroll-btn" data-id="{{.ID}}" data-title="{{.Title}}">üìù
                –ó–∞–ø–∏—Å–∞—Ç—å</button>
              <button class="btn btn-sm btn-outline-primary edit-group-btn" data-id="{{.ID}}">‚úèÔ∏è</button>
              <button class="btn btn-sm btn-outline-danger delete-group-btn" data-id="{{.ID}}">üóëÔ∏è</button>
            </td>
          </tr>
          {{end}}
        </tbody>
      </table>
    </div>
    {{else}}
    <div class="alert alert-info mb-0">–ì—Ä—É–ø–ø–æ–≤—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –Ω–µ—Ç.</div>
    {{end}}
  </div>
</div>

<!-- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ -->
<div class="card mb-4">
  <div class="card-header">
    <h5 class="mb-0">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h5>
  </div>
  <div class="card-body">
    {{if .Personal}}
    <div class="table-responsive">
      <table class="table table-striped table-hover align-middle">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>–ö–ª–∏–µ–Ω—Ç</th>
            <th>–¢—Ä–µ–Ω–µ—Ä</th>
            <th>–ù–∞—á–∞–ª–æ</th>
            <th>–û–∫–æ–Ω—á–∞–Ω–∏–µ</th>
            <th>–°—Ç–∞—Ç—É—Å</th>
            <th>–°—Ç–æ–∏–º–æ—Å—Ç—å</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
          </tr>
        </thead>
        <tbody>
          {{range .Personal}}
          <tr>
            <td>{{.ID}}</td>
            <td>{{.ClientFIO}} (#{{.SubscriptionID}})</td>
            <td>{{.TrainerFIO}}</td>
            <td>{{.Start.Format "02.01.2006 15:04"}}</td>
            <td>{{.End.Format "02.01.2006 15:04"}}</td>
            <td>
              <span class="badge {{if eq .Status "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞"}}bg-primary{{else if eq .Status "–ó–∞–≤–µ—Ä—à–µ–Ω–∞"
                }}bg-success{{else}}bg-secondary{{end}}">{{.Status}}</span>
            </td>
            <td>{{printf "%.2f" .Price}}</td>
            <td class="text-nowrap">
              <button class="btn btn-sm btn-outline-primary edit-personal-btn" data-id="{{.ID}}">‚úèÔ∏è</button>
              <button class="btn btn-sm btn-outline-danger delete-personal-btn" data-id="{{.ID}}">üóëÔ∏è</button>
            </td>
          </tr>
          {{end}}
        </tbody>
      </table>
    </div>
    {{else}}
    <div class="alert alert-info mb-0">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –Ω–µ—Ç.</div>
    {{end}}
  </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞: –¥–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø–æ–≤—É—é -->
<div class="modal fade" id="addGroupModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">–ù–æ–≤–∞—è –≥—Ä—É–ø–ø–æ–≤–∞—è</h5><button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <form id="addGroupForm">
        <div class="modal-body">
          <div class="mb-2"><label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ *</label><input class="form-control" name="title"
              required></div>
          <div class="mb-2"><label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label><textarea class="form-control" name="description"
              rows="2"></textarea></div>
          <div class="row g-3">
            <div class="col-md-4"><label class="form-label">–ú–∞–∫—Å. —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ *</label><input type="number"
                class="form-control" name="max" min="1" value="10" required></div>
            <div class="col-md-4"><label class="form-label">–£—Ä–æ–≤–µ–Ω—å</label>
              <select class="form-select" name="level">
                <option value="">‚Äî</option>
                <option value="–ù–∞—á–∞–ª—å–Ω—ã–π">–ù–∞—á–∞–ª—å–Ω—ã–π</option>
                <option value="–°—Ä–µ–¥–Ω–∏–π">–°—Ä–µ–¥–Ω–∏–π</option>
                <option value="–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</option>
              </select>
            </div>
            <div class="col-md-4"><label class="form-label">–î–∞—Ç–∞ *</label><input type="date" class="form-control"
                name="date" required></div>
          </div>
          <div class="row g-3 mt-1">
            <div class="col-md-3"><label class="form-label">–ù–∞—á–∞–ª–æ *</label><input type="time" class="form-control"
                name="start_time" required></div>
            <div class="col-md-3"><label class="form-label">–û–∫–æ–Ω—á–∞–Ω–∏–µ *</label><input type="time" class="form-control"
                name="end_time" required></div>
            <div class="col-md-3"><label class="form-label">–¢—Ä–µ–Ω–µ—Ä *</label><select class="form-select" id="grpTrainer"
                name="trainer_id" required>
                <option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
              </select></div>
            <div class="col-md-3"><label class="form-label">–ó–æ–Ω–∞ *</label><select class="form-select" id="grpZone"
                name="zone_id" required>
                <option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
              </select></div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn-primary" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤—É—é -->
<div class="modal fade" id="editGroupModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤—É—é</h5><button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <form id="editGroupForm">
        <div class="modal-body">
          <input type="hidden" id="editGroupId" name="id">
          <div class="mb-2"><label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ *</label><input class="form-control" id="egTitle"
              name="title" required></div>
          <div class="mb-2"><label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label><textarea class="form-control" id="egDesc"
              name="description" rows="2"></textarea></div>
          <div class="row g-3">
            <div class="col-md-4"><label class="form-label">–ú–∞–∫—Å. —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ *</label><input type="number"
                class="form-control" id="egMax" name="max" min="1" required></div>
            <div class="col-md-4"><label class="form-label">–£—Ä–æ–≤–µ–Ω—å</label>
              <select class="form-select" id="egLevel" name="level">
                <option value="">‚Äî</option>
                <option value="–ù–∞—á–∞–ª—å–Ω—ã–π">–ù–∞—á–∞–ª—å–Ω—ã–π</option>
                <option value="–°—Ä–µ–¥–Ω–∏–π">–°—Ä–µ–¥–Ω–∏–π</option>
                <option value="–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</option>
              </select>
            </div>
            <div class="col-md-4"><label class="form-label">–î–∞—Ç–∞ *</label><input type="date" class="form-control"
                id="egDate" name="date" required></div>
          </div>
          <div class="row g-3 mt-1">
            <div class="col-md-3"><label class="form-label">–ù–∞—á–∞–ª–æ *</label><input type="time" class="form-control"
                id="egStart" name="start_time" required></div>
            <div class="col-md-3"><label class="form-label">–û–∫–æ–Ω—á–∞–Ω–∏–µ *</label><input type="time" class="form-control"
                id="egEnd" name="end_time" required></div>
            <div class="col-md-3"><label class="form-label">–¢—Ä–µ–Ω–µ—Ä *</label><select class="form-select" id="egTrainer"
                name="trainer_id" required>
                <option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
              </select></div>
            <div class="col-md-3"><label class="form-label">–ó–æ–Ω–∞ *</label><select class="form-select" id="egZone"
                name="zone_id" required>
                <option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
              </select></div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn-primary" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞: –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é -->
<div class="modal fade" id="addPersonalModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">–ù–æ–≤–∞—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è</h5><button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <form id="addPersonalForm">
        <div class="modal-body">
          <div class="row g-3">
            <div class="col-md-4"><label class="form-label">–ê–±–æ–Ω–µ–º–µ–Ω—Ç *</label><select class="form-select" id="perSub"
                name="subscription_id" required>
                <option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
              </select></div>
            <div class="col-md-4"><label class="form-label">–¢—Ä–µ–Ω–µ—Ä *</label><select class="form-select" id="perTrainer"
                name="trainer_id" required>
                <option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
              </select></div>
            <div class="col-md-4"><label class="form-label">–î–∞—Ç–∞ *</label><input type="date" class="form-control"
                name="date" required></div>
          </div>
          <div class="row g-3 mt-1">
            <div class="col-md-3"><label class="form-label">–ù–∞—á–∞–ª–æ *</label><input type="time" class="form-control"
                name="start_time" required></div>
            <div class="col-md-3"><label class="form-label">–û–∫–æ–Ω—á–∞–Ω–∏–µ *</label><input type="time" class="form-control"
                name="end_time" required></div>
            <div class="col-md-3"><label class="form-label">–°—Ç–∞—Ç—É—Å</label>
              <select class="form-select" name="status">
                <option value="–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞" selected>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞</option>
                <option value="–ó–∞–≤–µ—Ä—à–µ–Ω–∞">–ó–∞–≤–µ—Ä—à–µ–Ω–∞</option>
                <option value="–û—Ç–º–µ–Ω–µ–Ω–∞">–û—Ç–º–µ–Ω–µ–Ω–∞</option>
              </select>
            </div>
            <div class="col-md-3"><label class="form-label">–°—Ç–æ–∏–º–æ—Å—Ç—å</label><input type="number" step="0.01" min="0"
                class="form-control" name="price"></div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn-primary" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é -->
<div class="modal fade" id="editPersonalModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é</h5><button class="btn-close"
          data-bs-dismiss="modal"></button>
      </div>
      <form id="editPersonalForm">
        <div class="modal-body">
          <input type="hidden" id="epId" name="id">
          <div class="row g-3">
            <div class="col-md-4"><label class="form-label">–ê–±–æ–Ω–µ–º–µ–Ω—Ç *</label><select class="form-select" id="epSub"
                name="subscription_id" required></select></div>
            <div class="col-md-4"><label class="form-label">–¢—Ä–µ–Ω–µ—Ä *</label><select class="form-select" id="epTrainer"
                name="trainer_id" required></select></div>
            <div class="col-md-4"><label class="form-label">–î–∞—Ç–∞ *</label><input type="date" class="form-control"
                id="epDate" name="date" required></div>
          </div>
          <div class="row g-3 mt-1">
            <div class="col-md-3"><label class="form-label">–ù–∞—á–∞–ª–æ *</label><input type="time" class="form-control"
                id="epStart" name="start_time" required></div>
            <div class="col-md-3"><label class="form-label">–û–∫–æ–Ω—á–∞–Ω–∏–µ *</label><input type="time" class="form-control"
                id="epEnd" name="end_time" required></div>
            <div class="col-md-3"><label class="form-label">–°—Ç–∞—Ç—É—Å</label>
              <select class="form-select" id="epStatus" name="status">
                <option value="–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞</option>
                <option value="–ó–∞–≤–µ—Ä—à–µ–Ω–∞">–ó–∞–≤–µ—Ä—à–µ–Ω–∞</option>
                <option value="–û—Ç–º–µ–Ω–µ–Ω–∞">–û—Ç–º–µ–Ω–µ–Ω–∞</option>
              </select>
            </div>
            <div class="col-md-3"><label class="form-label">–°—Ç–æ–∏–º–æ—Å—Ç—å</label><input type="number" step="0.01" min="0"
                class="form-control" id="epPrice" name="price"></div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn-primary" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞: –∑–∞–ø–∏—Å—å –Ω–∞ –≥—Ä—É–ø–ø–æ–≤—É—é -->
<div class="modal fade" id="enrollModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">–ó–∞–ø–∏—Å—å –Ω–∞ –≥—Ä—É–ø–ø–æ–≤—É—é</h5><button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <form id="enrollForm">
        <div class="modal-body">
          <input type="hidden" id="enGroupId" name="group_id">
          <div class="mb-2"><label class="form-label">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</label><input class="form-control" id="enGroupTitle"
              disabled></div>
          <div class="mb-3"><label class="form-label">–ê–±–æ–Ω–µ–º–µ–Ω—Ç *</label><select class="form-select" id="enSub"
              name="subscription_id" required>
              <option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
            </select></div>
          <div class="mb-1"><label class="form-label">–°—Ç–∞—Ç—É—Å</label>
            <select class="form-select" name="status">
              <option value="–ó–∞–ø–∏—Å–∞–Ω" selected>–ó–∞–ø–∏—Å–∞–Ω</option>
              <option value="–ü–æ—Å–µ—Ç–∏–ª">–ü–æ—Å–µ—Ç–∏–ª</option>
              <option value="–û—Ç–º–µ–Ω–∏–ª">–û—Ç–º–µ–Ω–∏–ª</option>
            </select>
          </div>
          <div class="form-text">–¢–∞–±–ª–∏—Ü–∞: ¬´–ó–∞–ø–∏—Å—å_–Ω–∞_–≥—Ä—É–ø–ø–æ–≤—É—é_—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É¬ª (id_–≥—Ä—É–ø–ø–æ–≤–æ–π_—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ + id_–∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞).
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn-primary" type="submit">–°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞: —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –Ω–∞ –≥—Ä—É–ø–ø–æ–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É -->
<div class="modal fade" id="enrollListModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">–ó–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="mb-2">
          <input type="text" id="enrollListTitle" class="form-control" disabled>
        </div>
        <div id="enrollListContainer">
          <div class="text-muted">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
  </div>
</div>
